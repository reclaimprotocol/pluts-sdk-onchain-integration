# Reclaim Plu-ts Overview

## Introduction

This project demonstrates a secure and verifiable mechanism for locking and unlocking assets on the Cardano blockchain. Integrating with the Reclaim Protocol, the system ensures that participants can only manipulate locked funds once they have provided valid proofs. In addition, by leveraging decentralized identity frameworks like **Atala PRISM** and **Hyperledger Identus**, we introduce self-sovereign identity (SSI) capabilities, enabling the creation and verification of Decentralized Identifiers (DIDs) and Verifiable Credentials (VCs) directly from these proofs.

## Purpose

- **Asset Management:** Safely lock and unlock assets on the Cardano blockchain using Plutus-based smart contracts.
- **Proof Verification:** Utilize the Reclaim Protocol to validate proofs, ensuring that each transaction meets predefined conditions before execution.
- **SSI Integration:** Generate DIDs and VCs from the provided Reclaim proofs using Atala PRISM/Hyperledger Identus, enhancing trust and security through decentralized identity standards.

## Decentralized Identity Integration

**Atala PRISM** and **Hyperledger Identus** provide a robust foundation for self-sovereign identity:

- **Atala PRISM:** Originating within the Cardano ecosystem, Atala PRISM enables issuers and holders to manage DIDs and Verifiable Credentials in a decentralized manner, respecting global standards set by the W3C.
- **Hyperledger Identus:** Evolving from Atala PRISM, Identus is a more general-purpose, open-source decentralized identity framework. It allows developers to build SSI solutions aligned with industry standards, ensuring compatibility with various verifiable data registries.

**What We Do:**

1. **Create a DID:** Generate a Decentralized Identifier for an entity (e.g., a user) based on the proof generated by Reclaim.
2. **Issue a Verifiable Credential (VC):** Transform the Reclaim proof into a Verifiable Credential using Identus/Atala PRISM SDKs. This VC can attest to certain claims (e.g., ownership, verification proofs) and can be cryptographically verified without relying on centralized authorities.

This integration ensures an additional layer of trust, as anyone can confirm the authenticity and integrity of a proof through the corresponding DID and VC—further decentralizing identity and credential management in your application.

## Deployments

| Chain Name      | Deployed Address                                                  | Explorer Link                                                                                                                   |
| --------------- | ----------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| Cardano Mainnet | `addr1wxv5v4jx3xaz4nlgp6j6juw707huauprhfdkst66mlh0fcsn72qrt`      | [Cardanoscan (Mainnet)](https://cardanoscan.io/address/addr1wxv5v4jx3xaz4nlgp6j6juw707huauprhfdkst66mlh0fcsn72qrt)              |
| Cardano Preprod | `addr_test1wzv5v4jx3xaz4nlgp6j6juw707huauprhfdkst66mlh0fcsgk7uvw` | [Cardanoscan (Preprod)](https://preprod.cardanoscan.io/address/addr_test1wzv5v4jx3xaz4nlgp6j6juw707huauprhfdkst66mlh0fcsgk7uvw) |

## Core Components

### unlockTx.ts

**Functionality:**

Handles the process of unlocking previously locked assets. Before allowing the unlock, it verifies the associated proof and checks the validity conditions on-chain.

- **`getUnlockTx`**: Builds the unlocking transaction, ensuring all validation criteria (including Reclaim proof verification and VC checks if needed) are met.
- **`unlockTx`**: Signs and submits the constructed transaction to the Cardano blockchain.
- **`buildRedemeer`**: Generates the redeemer data structure required to satisfy the Plutus validator logic.

### lockTx.ts

**Functionality:**

Manages the initial locking of assets into the script address, ensuring that these funds can only be released later if proof conditions are satisfied.

- **`getLockTx`**: Constructs the locking transaction with the appropriate datum.
- **`lockTx`**: Signs and submits the locking transaction, effectively placing assets under script-controlled conditions.

### reclaimPlutus.ts

**Functionality:**

Defines the on-chain validator logic (smart contract) that governs how locks and unlocks are validated. This includes:

- **Datum and Redeemer**: Structures defining the data passed to the smart contract for validation.
- **`scriptTestnetAddr`**: The Plutus script address used for deploying testnet scripts, ensuring that the correct blockchain environment is used for development and testing.

## Integration with Reclaim Protocol

The **Reclaim Protocol** is used to generate zero-knowledge proofs that verify certain off-chain conditions. By integrating these proofs into our transactions:

- **Validation**: Only the holder of a valid proof can trigger the unlock transaction.
- **Security**: These proofs ensure that the system cannot be manipulated without meeting stringent verification steps.
- **Seamless SSI Alignment**: When combined with Atala PRISM/Identus, these Reclaim proofs can be transformed into VCs, further reinforcing the trust and authenticity of the underlying claims.

## Transaction Management & Validation

- **Smart Contracts**: The on-chain code checks if the redeemer matches the datum (or satisfies a more complex logic in production use-cases). If conditions are met, the transaction proceeds.
- **Fund Requirements**: Transactions require a minimum amount of Lovelaces (≥ 15 ADA) to execute. This ensures that the chain fees and UTxO minimums are respected.
- **Address Handling**: `scriptTestnetAddr` ensures that transactions interact with the correct script environment, preventing misdirection of funds.
